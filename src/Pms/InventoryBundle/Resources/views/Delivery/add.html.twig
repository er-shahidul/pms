{% extends 'base.html.twig' %}

{% block body %}

    <style>
        table td ul li {
            list-style: none;
            margin-left: -42px;
        }
    </style>

    <!-- BEGIN PAGE HEADER-->
    <div class="row">
        <div class="col-md-12">
            <!-- BEGIN PAGE TITLE & BREADCRUMB-->
            <h3 class="page-title">
                Delivery
                <small></small>
            </h3>
            <ul class="page-breadcrumb breadcrumb" style="height: 36px;">
                <li>
                    <i class="fa fa-home"></i>
                    <a href="/" style="color: #333 !important;">Home</a>
                    <i class="fa fa-angle-right"></i>
                </li>
                <li>
                    <a href="{{ path('delivery_list') }}" style="color: #333 !important;">Inventory</a>
                    <i class="fa fa-angle-right"></i>
                </li>
                <li>
                    <a href="{{ path('delivery_list') }}" style="color: #333 !important;">Delivery</a>
                    <i class="fa fa-angle-right"></i>
                </li>
                <li><a href="#" style="color: #333 !important;">Form</a></li>
                <li class="pull-right">
                    <div id="" class="" data-placement="" style="font-family: 'Open Sans', sans-serif; color: #f5f5f5; padding-top: 8px;text-align: center;margin-top: -8px;width: 124%;background: #e02222;height: 36px;">
                        <i class="fa fa-calendar"></i>
                        {{ "now"|date("d-F-Y") }}
                    </div>
                </li>
            </ul>
            <!-- END PAGE TITLE & BREADCRUMB-->
        </div>
    </div>
    <!-- END PAGE HEADER-->

    <div class="modal-dialog bodyWidth">
        <div class="modal-content backgroundWhite">
            <div class="modal-header backGroundLightGrey">
                <h4 class="modal-title bold text-center">Delivery Item</h4>
            </div>

            {{ form_start(form, { 'attr': {'class': 'form-horizontal', 'id': 'purchase-form', 'novalidate': 'novalidate'} } ) }}
            <div class="modal-body">
                <div class="row">

                    <div class="col-md-12">

                        <div class="col-md-6 text-left left">

                                <div class="form-group">
                                    {{ form_label(form.customerId, 'Customer:', {'label_attr': {'class': 'control-label col-md-4', 'style': 'margin-left: 0px;margin-right:-12px;' } }
                                    ) }}
                                    <div class="col-md-6">
                                        <div class="input-icon">
                                            {{ form_widget(form.customerId, { 'attr': {'class': 'form-control', 'style': 'padding-left: 10px !important;width: 206px;margin-left: -7px;' } }) }}
                                        </div>
                                        <span class="help-block" style="color:darkred;margin-left: -40px;">{{ form_errors(form.customerId) }}</span>
                                    </div>
                                </div>
                                {{ form_widget(form.project) }}
                                <div class="form-group">
                                    {{ form_label(form.project, 'Project :', {'label_attr': {'class': 'control-label col-md-4', 'style': 'margin-left: 0px;margin-right:-12px;' } }) }}
                                    <div class="col-md-6">
                                        <div class="input-icon">
                                            <input type="text" style="margin-left: -9px;" readonly class="form-control paddingLeft10" value="{{ projects.projectName }}">
                                        </div>

                                        <span class="help-block" style="color:darkred;margin-left: -65px;">{{ form_errors(form.project) }}</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    {{ form_label(form.file, 'File', {'label_attr': {'class': 'control-label col-md-2', 'style': 'margin-left: 0px;' } } ) }}
                                    <div class="col-md-9" style="margin-left: -45px;">
                                        <div class="fileupload fileupload-new" data-provides="fileupload">
                                            <div class="input-group">
													<span class="input-group-btn">
													<span class="uneditable-input" style="margin-left:101px;">
													<i class="fa fa-file fileupload-exists"></i>
													<span class="fileupload-preview"></span>
													</span>
													</span>
													<span class="btn default btn-file">
													<span class="fileupload-new"><i class="fa fa-paper-clip"></i> Select file</span>
													<span class="fileupload-exists"><i class="fa fa-undo"></i> Change</span>
                                                        {{ form_widget(form.file, { 'attr': {'class': 'default'} }) }}
													</span>
                                                <a href="form_component.html#" class="btn red fileupload-exists" data-dismiss="fileupload"><i class="fa fa-trash-o"></i> Remove</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            <div class="form-group">
                                {{ form_label(form.fileTwo, 'File', {'label_attr': {'class': 'control-label col-md-2', 'style': 'margin-left: 0px;' } } ) }}
                                <div class="col-md-9" style="margin-left: -45px;">
                                    <div class="fileupload fileupload-new" data-provides="fileupload">
                                        <div class="input-group">
													<span class="input-group-btn">
													<span class="uneditable-input" style="margin-left:101px;">
													<i class="fa fa-file fileupload-exists"></i>
													<span class="fileupload-preview"></span>
													</span>
													</span>
													<span class="btn default btn-file">
													<span class="fileupload-new"><i class="fa fa-paper-clip"></i> Select file</span>
													<span class="fileupload-exists"><i class="fa fa-undo"></i> Change</span>
                                                        {{ form_widget(form.fileTwo, { 'attr': {'class': 'default'} }) }}
													</span>
                                            <a href="form_component.html#" class="btn red fileupload-exists" data-dismiss="fileupload"><i class="fa fa-trash-o"></i> Remove</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6 left">
                            <div class="form-group">
                                {{ form_label(form.getPass, 'Get Pass :', {'label_attr': {'class': 'control-label col-md-4' } }) }}
                                <div class="col-md-6">
                                    <div class="input-icon">
                                        {{ form_widget(form.getPass, { 'attr': {'class': 'form-control paddingLeft10 gatePassNo'} }) }}
                                    </div>
                                    <span class="help-block" style="color:darkred;margin-left: -40px;">{{ form_errors(form.getPass) }}</span>
                                </div>
                                <span class="userMessege" style="margin-left: 232px;"></span>
                            </div>
                                {#<div class="form-group">
                                    {{ form_label(form.dateOfRequiredText, 'Date:', {'label_attr': {'class': 'control-label col-md-4'} }
                                    ) }}
                                    <div class="col-md-6">

                                        <div class="input-group date date-picker" data-date-format="dd-mm-yyyy" data-date-viewmode="years">
                                            <span class="input-group-btn"></span>
                                            {{ form_widget(form.dateOfRequiredText, { 'attr': {'class': 'form-control' } }) }}

                                        </div>
                                        <span class="help-block" style="color:darkred;margin-left: -38px;">{{ form_errors(form.dateOfRequiredText) }}</span>
                                    </div>
                                </div>#}

                                <div class="form-group">
                                    {{ form_label(form.category, 'Category:', {'label_attr': {'class': 'control-label col-md-4'} }
                                    ) }}
                                    <div class="col-md-6">
                                        <div class="input-icon">
                                            {{ form_widget(form.category, { 'attr': {'class': 'form-control select2'} }) }}
                                        </div>
                                        <span class="help-block" style="color:darkred;margin-left: -40px;">{{ form_errors(form.category) }}</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    {{ form_label(form.subCategory, 'Sub Category:', {'label_attr': {'class': 'control-label col-md-4' } }
                                    ) }}
                                    <div class="col-md-6">
                                        <div class="input-icon">
                                            {{ form_widget(form.subCategory, { 'attr': {'class': 'form-control select2' } }) }}
                                        </div>
                                        <span class="help-block" style="color:darkred;margin-left: -40px;">{{ form_errors(form.subCategory) }}</span>
                                    </div>
                                </div>
                            <div class="form-group">
                                    {{ form_label(form.costHeader, 'Cost Header:', {'label_attr': {'class': 'control-label col-md-4' } }
                                    ) }}
                                    <div class="col-md-6">
                                        <div class="input-icon">
                                            {{ form_widget(form.costHeader, { 'attr': {'class': 'form-control select2' } }) }}
                                        </div>
                                        <span class="help-block" style="color:darkred;margin-left: -40px;">{{ form_errors(form.costHeader) }}</span>
                                    </div>
                                </div>
                        </div>

                    </div>

                    <div class="col-md-12">

                    </div>
                    <div style="clear: both">
                        <table id="tableRowCount" class="table"
                               style="margin-top: 80px; border: 1px solid ghostwhite;">
                            <thead style="background:#4b8df8;">
                            <tr>
                                <th class="col-md-2" style="padding-left: 12px;">Item</th>
                                <th class="col-md-2" style="padding-left: 12px;">itemType</th>
                                <th class="col-md-2" style="padding-left: 12px;">Remaining Qty</th>
                                <th class="col-md-2" style="padding-left: 12px;">Issue Qty</th>
                                <th class="col-md-2" style="padding-left: 12px;">Unit</th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody id="DeliveryItems" class="tags" data-prototype="{% filter escape %}
                                {{ include('PmsInventoryBundle:Delivery:DeliveryItemPrototype.html.twig', { 'form': form.deliveryItem.vars.prototype }) }}
                                {% endfilter %}}">

                                {% for deliveryItems in form.deliveryItem %}
                                    <tr>
                                        <td>
                                            {{ form_widget(deliveryItems.item, { 'attr': {'class': 'select2me form-control deliveryItemEvent', 'style': 'width: 200px;', 'placeholder': ' Select Item'} }) }}
                                            <span class="help-block" style="color:darkred;">{{ form_errors(deliveryItems.item) }}</span>
                                        </td>

                                        <td>
                                            {{ form_widget(deliveryItems.itemType, { 'attr': {'class': 'form-control'} }) }}
                                        </td>
                                        <td>
                                            {{ form_widget(deliveryItems.remainingQuantity, { 'attr': {'class': 'form-control'} }) }}
                                        </td>

                                        <td>
                                            {{ form_widget(deliveryItems.quantity, { 'attr': {'class': 'form-control deliveryItemQuantity', 'style': 'width: 70px;padding-left: 10px! important;'} }) }}
                                            <span class="help-block"
                                                  style="color:darkred;">{{ form_errors(deliveryItems.quantity) }}</span>
                                        </td>
                                        <td>
                                            {{ form_widget(deliveryItems.unit, { 'attr': {'class': 'form-control'} }) }}
                                        </td>
                                        <td>
                                            {{ form_widget(deliveryItems.remove, { 'label': '×','attr': {'class': 'btn red btn-xs closeTd', 'style': 'margin-top:15px;height:23px;width: 20px;font-size:10px;margin-left:10px;color: white !important;' } }) }}
                                        </td>
                                    </tr>
                                {% endfor %}

                            </tbody>
                            <tfoot></tfoot>
                        </table>
                    </div>

                </div>
            </div>
            <div class="modal-footer" style="background: lightgrey;">
                <div class="btn-group">
                    <a href="{{ path('delivery_list') }}" class="btn" style="font-family: 'Open Sans', sans-serif;width: 100px;background: #0353D6; color: white !important;">
                        <i class="fa fa-ban"> Cancel</i>
                    </a>
                </div>
                {{ form_widget(form.submit, { 'attr': {'class': 'btn button-width', 'style': 'width: 100px;background: #0353D6; color: white !important;' } }) }}
            </div>

            {{ form_end(form) }}
        </div>
    </div>

{% endblock %}
{% block javascriptBlock %}
    {{ parent() }}
    {% javascripts
        '@PmsInventoryBundle/Resources/public/js/inventory.js'
        %}
    <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock javascriptBlock %}

{#
{% block documentready %}

    {{ parent() }}

&#123;&#35;<script>&#35;&#125;



{% endblock %}#}
